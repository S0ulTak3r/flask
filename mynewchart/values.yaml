# Flask App Configuration (Where the magic happens ğŸ©)
flask:
  # How many flask replicas to party with? ğŸ»
  replicaCount: 1
  image:
    repository: s0ultak3r/dockerflask
    tag: latest
  
  # Flask's secret ingredients ğŸ²
  environment:
    MYSQL_PASSWORD: password
    MYSQL_USER: root
    MYSQL_HOST: db
    MYSQL_DATABASE: flask_db
  
  # Flask's VIP door policy ğŸšª
  service:
    testing:
      name: flask-service-testing
      port: 80
      targetPort: 5000
      type: NodePort
    production:
      name: flask-service-production
      port: 80
      targetPort: 5000
      type: LoadBalancer

# MySQL's Crib (Where data parties hard! ğŸ‰)
mysql:
  replicaCount: 1
  image:
    repository: s0ultak3r/dockerdb
    tag: latest
  
  # MySQL's secret handshake ğŸ¤
  environment:
    MYSQL_ROOT_PASSWORD: password
  
  # MySQL's private lounge ğŸ›‹ï¸
  service:
    name: db
    port: 3306
    targetPort: 3306
    type: ClusterIP

# Prometheus: The Party Watchdog! ğŸ¶
prometheus:
  server:
    config:
      global:
        scrape_interval: 15s
      # Flask's dance moves tracker ğŸ’ƒ
      scrape_configs:
        - job_name: 'flask'
          static_configs:
            - targets: ['flask-service-testing:80']
          metrics_path: '/metrics'
    podSecurityPolicy:
      enabled: false
    service:
      type: NodePort

# Grafana's Art Gallery (Visuals that dazzle! ğŸ¨)
grafana:
  # Grafana's secret diary keys ğŸ—ï¸
  adminUser: admin
  adminPassword: secret
  podSecurityPolicy:
    enabled: false
  service:
    type: NodePort
  
  # Grafana's treasure chest (Guarded by a dragon! ğŸ‰)
  persistence:
    enabled: true
    size: 5Gi
    accessModes:
      - ReadWriteOnce
    name: grafana-pvc
